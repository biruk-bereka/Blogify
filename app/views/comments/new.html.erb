
<div class="flex flex-col m-5">
  <h1></h1>
  <div class="flex flex-col justify-between gap-10 box-border h-fit w-full p-4 border-4">
    <div class="flex gap-10">
      <h1 class='font-bold' ><%= @post.title%> by <%= @post.author.name %></h1>
      <div class="flex self-end gap-1">
        <p>Comments:<%= @post.comments_counter %>,</p>
        <p>Likes: <%= @post.likes_counter%></p>
      </div>
    </div>
    <p><%= @post.text%></p>
  </div>
  <% if @post.comments.any? %>
  <div class="box-border h-fit w-full p-4 border-4">
    <% @post.comments.each do |comment| %>
    <div class="flex m-2">
      <p><%= comment.author.name %>:</p>
      <p><%= comment.text %></p>
    </div>
    <%end%>
  </div>
  <% end %>

  <div>
    <%= form_with model: [@user, @post, @comment], url: user_post_comments_create_path(@user, @post) do |form| %>
    <div class="flex flex-col my-2">
      <%= form.label :text,"Add new comment", class: "font-bold" %> 
      <%= form.text_area :text, class: "h-40" %>
    </div>
    
    <%= form.submit "Create Comment", class: "p-3 rounded-full bg-emerald-200" %>
  <% end %>
    
  </div>
  
</div>


